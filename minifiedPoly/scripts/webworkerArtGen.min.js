importScripts("poly_helper.min.js"),importScripts("otherEffects.min.js"),importScripts("delaunatormin.js"),importScripts("imagefilter.min.js"),onmessage=function(e){for(console.log("Message received from main script"),pixelData=e.data[1],cWidth=e.data[0][0],cHeight=e.data[0][1],d=e.data[3],colorThreshold=e.data[4],0==e.data[2]&&(completedFilters=!0,copyTo(changePixels3("smooth",pixelData),pixelData),copyTo(changePixels3("edge",pixelData),pixelData)),console.log("complete with filters"),allVertices=[],allVertices.push([0,0]),allVertices.push([cWidth,0]),allVertices.push([0,cHeight]),allVertices.push([cWidth,cHeight]),i=0;i<cWidth/80;i++){var a=80*i+Math.round(Math.random(0,30)),t=80*i+Math.round(Math.random(0,30));inCanvas(a,cHeight)&&allVertices.push([a,cHeight]),inCanvas(t,cHeight)&&allVertices.push([t,0])}for(i=0;i<cHeight/80;i++){a=80*i+Math.round(Math.random(0,30)),t=80*i+Math.round(Math.random(0,30));inCanvas(cWidth,a)&&allVertices.push([cWidth,a]),inCanvas(0,t)&&allVertices.push([0,t])}var s=[allVertices,edgePoints,pixelData];postMessage(s)};