importScripts("poly_helper.min.js"),importScripts("otherEffects.min.js"),importScripts("delaunatormin.js"),importScripts("imagefilter.min.js"),onmessage=function(a){console.log("Message received from main script"),pixelData=a.data[1],cWidth=a.data[0][0],cHeight=a.data[0][1],d=a.data[3],colorThreshold=a.data[4],0==a.data[2]&&(completedFilters=!0,copyTo(changePixels3("smooth",pixelData),pixelData),copyTo(changePixels3("edge",pixelData),pixelData)),console.log("complete with filters"),allVertices=[],allVertices.push([0,0]),allVertices.push([cWidth,0]),allVertices.push([0,cHeight]),allVertices.push([cWidth,cHeight]);for(var e=0;e<cWidth/80;e++){var t=80*e+Math.round(Math.random(0,30)),i=80*e+Math.round(Math.random(0,30));inCanvas(t,cHeight)&&allVertices.push([t,cHeight]),inCanvas(i,cHeight)&&allVertices.push([i,0])}for(e=0;e<cHeight/80;e++){t=80*e+Math.round(Math.random(0,30)),i=80*e+Math.round(Math.random(0,30));inCanvas(cWidth,t)&&allVertices.push([cWidth,t]),inCanvas(0,i)&&allVertices.push([0,i])}var s=[allVertices,edgePoints,pixelData];postMessage(s)};