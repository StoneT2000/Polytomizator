function exportSVG(t){$(".main").append("<svg height="+cHeight+" width="+cWidth+">"+t+"</svg>")}function storeTrianglesToString(){var t="";for(tng=triangulations[triangulations.length-1],tInd=0;tInd<tng.length;tInd+=3)t+='<polygon points="'+verticesHashTableFlat[tng[tInd]][0]+","+verticesHashTableFlat[tng[tInd]][1]+" "+verticesHashTableFlat[tng[tInd+1]][0]+","+verticesHashTableFlat[tng[tInd+1]][1]+" "+verticesHashTableFlat[tng[tInd+2]][0]+","+verticesHashTableFlat[tng[tInd+2]][1]+'" ',hexcolors=rgbToHex(tColors[tInd].toFixed(0),tColors[tInd+1].toFixed(0),tColors[tInd+2].toFixed(0)),t+='style="fill:'+hexcolors+";stroke:"+hexcolors+';"',t+="/>";return t}function rgbToHex(t,e,n){var r=t%16,s=e%16,l=n%16,o=(e-s)/16,i=(n-l)/16;return"#"+(hexletters[(t-r)/16]+hexletters[r])+(hexletters[o]+hexletters[s])+(hexletters[i]+hexletters[l])}function generateSVGFile(t,e,n){return'<?xml version="1.0" encoding="iso-8859-1"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">'+('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="'+e+'" height="'+n+'" viewBox="0 0 '+e+" "+n+'" enable-background="new 0 0 '+e+" "+n+'" xml:space="preserve">')+("<g>"+t+"</g></svg>")}function downloadSVG(t,e){var n=generateSVGFile(storeTrianglesToString(),t,e),r=new Blob([n],{type:"text/plain;charset=utf-8"});saveAs(r,"PolyArt.svg")}var hexletters=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"];