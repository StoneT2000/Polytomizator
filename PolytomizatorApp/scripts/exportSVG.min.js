function exportSVG(t){$(".main").append("<svg height="+cHeight+" width="+cWidth+">"+t+"</svg>")}function storeTrianglesToString(){var t="";tng=triangulations[triangulations.length-1];for(var e=0;e<tng.length;e+=3)t+='<polygon points="'+triangulatedVerticesFlat[tng[e]][0]+","+triangulatedVerticesFlat[tng[e]][1]+" "+triangulatedVerticesFlat[tng[e+1]][0]+","+triangulatedVerticesFlat[tng[e+1]][1]+" "+triangulatedVerticesFlat[tng[e+2]][0]+","+triangulatedVerticesFlat[tng[e+2]][1]+'" ',hexcolors=rgbToHex(tColors[e].toFixed(0),tColors[e+1].toFixed(0),tColors[e+2].toFixed(0)),t+='style="fill:'+hexcolors+";stroke:"+hexcolors+';"',t+="/>";return t}function rgbToHex(t,e,r){var n=t%16,i=e%16,l=r%16,o=(e-i)/16,s=(r-l)/16;return"#"+(hexletters[(t-n)/16]+hexletters[n])+(hexletters[o]+hexletters[i])+(hexletters[s]+hexletters[l])}function generateSVGFile(t,e,r){return'<?xml version="1.0" encoding="iso-8859-1"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">'+('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="'+e+'" height="'+r+'" viewBox="0 0 '+e+" "+r+'" enable-background="new 0 0 '+e+" "+r+'" xml:space="preserve">')+("<g>"+t+"</g></svg>")}function downloadSVG(t,e){var r=generateSVGFile(storeTrianglesToString(),t,e),n=new Blob([r],{type:"text/plain;charset=utf-8"});saveAs(n,"PolyArt.svg")}var hexletters=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"];